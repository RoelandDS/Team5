var app=angular.module("forum",["ui.router"]);app.config(["$stateProvider","$urlRouterProvider",function(e,t){e.state("home",{url:"/home",templateUrl:"/home.html",controller:"MainCtrl",resolve:{postPromise:["categories",function(e){return e.getAll()}]}}),t.otherwise("home")}]),app.factory("categories",["$http",function(e){var t={categories:[]};return t.getAll=function(){return e.get("/categories").success(function(o){o.forEach(function(o){o.subforums=[],e.get("/categories/"+o._id).success(function(e){e.subforums.length||e.subforums.push({title:"No subforum found"}),t.categories.push(e)})})})},t}]),app.controller("MainCtrl",["$scope","categories",function(e,t){e.categories=t.categories,e.addCategory=function(){e.title&&""!==e.title&&(e.categories.push({title:e.title}),e.title="")}}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFuZ3VsYXJBcHAuanMiXSwibmFtZXMiOlsiYXBwIiwiYW5ndWxhciIsIm1vZHVsZSIsImNvbmZpZyIsIiRzdGF0ZVByb3ZpZGVyIiwiJHVybFJvdXRlclByb3ZpZGVyIiwic3RhdGUiLCJ1cmwiLCJ0ZW1wbGF0ZVVybCIsImNvbnRyb2xsZXIiLCJyZXNvbHZlIiwicG9zdFByb21pc2UiLCJjYXRlZ29yaWVzIiwiZ2V0QWxsIiwib3RoZXJ3aXNlIiwiZmFjdG9yeSIsIiRodHRwIiwibyIsImdldCIsInN1Y2Nlc3MiLCJkYXRhIiwiZm9yRWFjaCIsImNhdGVnb3J5Iiwic3ViZm9ydW1zIiwiX2lkIiwibGVuZ3RoIiwicHVzaCIsInRpdGxlIiwiJHNjb3BlIiwiYWRkQ2F0ZWdvcnkiXSwibWFwcGluZ3MiOiJBQUFBLEdBQUlBLEtBQU1DLFFBQVFDLE9BQU8sU0FBVSxhQUVuQ0YsS0FBSUcsUUFDRixpQkFDQSxxQkFDQSxTQUFTQyxFQUFnQkMsR0FDdkJELEVBQ0dFLE1BQU0sUUFDTEMsSUFBSyxRQUNMQyxZQUFhLGFBQ2JDLFdBQVksV0FDWkMsU0FDRUMsYUFBYyxhQUFjLFNBQVNDLEdBQ25DLE1BQU9BLEdBQVdDLGNBSzFCUixFQUFtQlMsVUFBVSxXQUdqQ2QsSUFBSWUsUUFBUSxjQUFlLFFBQVMsU0FBU0MsR0FDM0MsR0FBSUMsSUFDRkwsY0FrQkYsT0FmQUssR0FBRUosT0FBUyxXQUNULE1BQU9HLEdBQU1FLElBQUksZUFBZUMsUUFBUSxTQUFTQyxHQUMvQ0EsRUFBS0MsUUFBUSxTQUFTQyxHQUNwQkEsRUFBU0MsYUFFVFAsRUFBTUUsSUFBSSxlQUFpQkksRUFBU0UsS0FBS0wsUUFBUSxTQUFTQyxHQUNwREEsRUFBS0csVUFBVUUsUUFDakJMLEVBQUtHLFVBQVVHLE1BQU9DLE1BQU8sc0JBRS9CVixFQUFFTCxXQUFXYyxLQUFLTixVQU1uQkgsS0FHVGpCLElBQUlTLFdBQVcsWUFDZixTQUFVLGFBQ1YsU0FBU21CLEVBQVFoQixHQUNmZ0IsRUFBT2hCLFdBQWFBLEVBQVdBLFdBRS9CZ0IsRUFBT0MsWUFBYyxXQUNmRCxFQUFPRCxPQUEwQixLQUFqQkMsRUFBT0QsUUFFM0JDLEVBQU9oQixXQUFXYyxNQUFNQyxNQUFPQyxFQUFPRCxRQUN0Q0MsRUFBT0QsTUFBUSIsImZpbGUiOiJhbmd1bGFyQXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKCdmb3J1bScsIFsndWkucm91dGVyJ10pO1xuXG5hcHAuY29uZmlnKFtcbiAgJyRzdGF0ZVByb3ZpZGVyJyxcbiAgJyR1cmxSb3V0ZXJQcm92aWRlcicsXG4gIGZ1bmN0aW9uKCRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIpIHtcbiAgICAkc3RhdGVQcm92aWRlclxuICAgICAgLnN0YXRlKCdob21lJywge1xuICAgICAgICB1cmw6ICcvaG9tZScsXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnL2hvbWUuaHRtbCcsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdNYWluQ3RybCcsXG4gICAgICAgIHJlc29sdmU6IHtcbiAgICAgICAgICBwb3N0UHJvbWlzZTogWydjYXRlZ29yaWVzJywgZnVuY3Rpb24oY2F0ZWdvcmllcykge1xuICAgICAgICAgICAgcmV0dXJuIGNhdGVnb3JpZXMuZ2V0QWxsKCk7XG4gICAgICAgICAgfV1cbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAkdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKCdob21lJyk7XG59XSk7XG5cbmFwcC5mYWN0b3J5KCdjYXRlZ29yaWVzJywgWyckaHR0cCcsIGZ1bmN0aW9uKCRodHRwKSB7XG4gIHZhciBvID0ge1xuICAgIGNhdGVnb3JpZXM6IFtdXG4gIH07XG5cbiAgby5nZXRBbGwgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvY2F0ZWdvcmllcycpLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xuICAgICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uKGNhdGVnb3J5KSB7XG4gICAgICAgIGNhdGVnb3J5LnN1YmZvcnVtcyA9IFtdO1xuXG4gICAgICAgICRodHRwLmdldCgnL2NhdGVnb3JpZXMvJyArIGNhdGVnb3J5Ll9pZCkuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgaWYoIWRhdGEuc3ViZm9ydW1zLmxlbmd0aCkge1xuICAgICAgICAgICAgZGF0YS5zdWJmb3J1bXMucHVzaCh7IHRpdGxlOiAnTm8gc3ViZm9ydW0gZm91bmQnIH0pXG4gICAgICAgICAgfVxuICAgICAgICAgIG8uY2F0ZWdvcmllcy5wdXNoKGRhdGEpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIG87XG59XSk7XG5cbmFwcC5jb250cm9sbGVyKCdNYWluQ3RybCcsIFtcbickc2NvcGUnLCAnY2F0ZWdvcmllcycsXG5mdW5jdGlvbigkc2NvcGUsIGNhdGVnb3JpZXMpe1xuICAkc2NvcGUuY2F0ZWdvcmllcyA9IGNhdGVnb3JpZXMuY2F0ZWdvcmllcztcblxuICAkc2NvcGUuYWRkQ2F0ZWdvcnkgPSBmdW5jdGlvbigpIHtcbiAgICBpZighJHNjb3BlLnRpdGxlIHx8ICRzY29wZS50aXRsZSA9PT0gJycpIHsgcmV0dXJuOyB9XG5cbiAgICAkc2NvcGUuY2F0ZWdvcmllcy5wdXNoKHt0aXRsZTogJHNjb3BlLnRpdGxlfSk7XG4gICAgJHNjb3BlLnRpdGxlID0gJyc7XG4gIH1cbn1dKTtcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
